<?xml version="1.0" encoding="UTF-8"?>
<!-- Fichier de configuration ORM (Object-Relational Mapping) qui décrit 
	le lien entre les objets Java et les tables relationnelles de la base de 
	données. Il faut déclarer un élément entity pour chaque objet Java utilisé 
	et configurer le lien des attributs Java avec les différentes colonnes de 
	la base de données. -->
<entity-mappings version="2.0"
	xmlns="http://java.sun.com/xml/ns/persistence/orm"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://java.sun.com/xml/ns/persistence/orm http://java.sun.com/xml/ns/persistence/orm_2_0.xsd">

	<mapped-superclass class="model.Personne">
		<attributes>
			<id name="id">
				<generated-value strategy="IDENTITY" />
			</id>
			<basic name="nom"></basic>
			<basic name="prenom"></basic>
			<basic name="adresse"></basic>
			<basic name="codePostal"></basic>
			<basic name="ville" />
			<basic name="telephone" />
		</attributes>
	</mapped-superclass>

	<mapped-superclass class="model.Compte">
		<attributes>
			<id name="id">
				<generated-value strategy="IDENTITY" />
			</id>
			<basic name="solde" />
			<basic name="dateOuverture" />

		</attributes>
	</mapped-superclass>

	<entity class="model.Conseiller">
		<table name="conseillers" />
		<attributes>
			<basic name="login" />
			<basic name="password" />
			<one-to-many name="clients" mapped-by="conseillers">
			</one-to-many>
		</attributes>

	</entity>


	<entity class="model.Client">
		<table name="clients" />
		<attributes>
			<basic name="typeClient" />
			<many-to-one name="conseiller">
				<join-column name="conseillers"
					referenced-column-name="idConseiller" />
			</many-to-one>
		</attributes>
	</entity>


	<entity class="model.CompteCourant">
		<attributes>
			<basic name="decouvert" />
			<many-to-one name="Client">
			  <join-column name="client" referenced-column-name="idClient"></join-column>
			</many-to-one>
		</attributes>
	</entity>

	<entity class="model.CompteEpargne">
		<attributes>
			<basic name="taux" />
			<many-to-one name="Client">
			  <join-column name="client" referenced-column-name="idClient"></join-column>
			</many-to-one>
		</attributes>

	</entity>

</entity-mappings>